# 决策记录

记录项目中的重要决策、原因和影响。

## 2026-01-04

### 决策1: 采用Node架构设计

**背景**：需要一个统一的结构来描述多个Persona的协作。

**决策**：采用Node架构，每个Persona是一个独立的Node，有统一的meta、input、process、output、feedback字段。

**原因**：
- 基于奥卡姆剃刀原则，用最简单的结构描述复杂的系统
- 统一的结构易于理解和维护
- 灵活的组合可以适应不同场景

**影响**：
- 所有Persona都用统一的Node结构
- 可以快速添加新的Persona
- 可以灵活组合不同的Persona形成不同的协作模式

---

### 决策2: 品牌必须是制造商品牌，不是销售渠道

**背景**：在数据清洗过程中，发现"上野"、"万年龟"等名称既是店铺也是品牌，导致混淆。

**决策**：Brand字段必须是制造商品牌（如GUCCI、RIGARDS、999.9），不是销售渠道（如上野眼镜、镜架收藏社）。

**原因**：
- 甲方Persona（20年买手经验）明确要求Brand字段用于采购决策和品牌管理
- 如果Brand字段是销售渠道，无法进行品牌分析和品牌排名
- 店铺名称已经有单独的字段，不需要在Brand字段中重复

**影响**：
- 需要重新设计品牌识别逻辑，区分品牌和店铺
- 需要建立品牌标准化字典，明确哪些是品牌、哪些是店铺
- 对于既是店铺也是品牌的名称（如万年龟、增永），需要根据商品内容判断

---

### 决策3: 数据质量标准

**背景**：需要明确的质量标准来评估数据清洗效果。

**决策**：
- 品牌识别率：95%+
- 型号识别率：80%+
- 数据完整性：95%+

**原因**：
- 这是甲方Persona（20年买手经验）基于业务需求提出的标准
- 识别率低会影响采购决策和品牌管理
- 这是业务需求，不是技术指标

**影响**：
- 需要持续优化品牌识别算法，提升识别率
- 需要建立完整的品牌字典
- 需要人工补充无法自动识别的品牌和型号

---

### 决策4: 采用"自动识别 + 人工补充"的混合模式

**背景**：完全自动化的识别无法达到100%准确率。

**决策**：采用"自动识别 + 人工补充"的混合模式。先用算法识别大部分，剩下的由买手手动补充。

**原因**：
- 商品名称格式不统一，完全自动化识别困难
- 有些品牌不在品牌字典中（新品牌、小众品牌）
- 人工补充可以利用买手的20年经验，提升准确率

**影响**：
- 数据清洗不是一次性完成，而是持续迭代的过程
- 需要设计人工补充的界面和流程
- 需要建立反馈机制，将人工补充的结果更新到品牌字典

---

### 决策5: 固化关键信息到GitHub

**背景**：每次对话都需要重复说明沟通偏好、常见问题、重要决策，沟通成本高。

**决策**：将关键信息固化到GitHub，包括：
- 对话风格指南（communication-style.md）
- 常见问题FAQ（faq.md）
- 决策记录（decisions.md）
- 工作流程（workflow.md）

**原因**：
- 降低沟通成本，避免重复说明
- 建立知识库，方便后续查阅
- 形成可持续的协作机制

**影响**：
- 每次对话前，小M可以快速加载这些信息
- 新加入的成员可以快速了解项目背景
- 形成可复用的协作模式

---

### 决策6: 创建7个Persona（小M + 甲方 + 5个专家）

**背景**：单一视角容易遗漏问题，需要多角度评审。

**决策**：创建7个Persona：
- 小M：执行者 + 协调者
- 甲方：质量标准制定者
- 5个专家：多角度评审者

**原因**：
- 不同专业角色有不同的关注点和评审标准
- 多角度评审可以发现单一视角遗漏的问题
- 形成"执行 → 评审 → 反馈 → 迭代"的闭环

**影响**：
- 数据质量评审更全面
- 可以从不同角度发现问题
- 形成可持续的质量保证机制

---

### 决策7: 小M的定位是"赛博合伙人 + PM"

**背景**：需要明确小M在项目中的角色和职责。

**决策**：小M的定位是用户的"赛博合伙人 + PM"，负责补全用户的技术短板。

**原因**：
- 用户是短视频转行做AI，擅长快速理解和表达，但技术深度不够
- 小M负责技术实现、系统设计、执行细节
- 形成"用户定方向，小M做执行"的协作模式

**影响**：
- 小M不只是工具，而是合作伙伴
- 小M需要理解用户的真实需求，而不是只执行指令
- 小M需要主动提出建议，而不是被动等待指令

---

## 决策模板

```
### 决策X: [决策标题]

**背景**：[为什么需要做这个决策]

**决策**：[具体的决策内容]

**原因**：
- [原因1]
- [原因2]
- [原因3]

**影响**：
- [影响1]
- [影响2]
- [影响3]
```

## 更新说明

每次做出重要决策后，及时更新到这个文件，记录决策的背景、原因和影响。
